"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{299:function(e,t,o){o.r(t),o.d(t,{Arm:function(){return Arm},WebGL:function(){return WebGL}});var i=o(5893),n=o(5918),a=o(1733),r=o(1009),s=o(5029),l=o(4156),u=o(1443),c=o(1215),d=o(8922),h=o(1160),m=o(7294),f=o(9477);function Raf(e){let{render:t=!0}=e,{advance:o}=(0,r.A)();(0,l.xQ)(e=>{t&&o(e/1e3)})}function Particles(e){let{width:t=250,height:o=250,depth:n=250,count:a=1e3,scale:s=100,size:l=100}=e,c=(0,m.useMemo)(()=>{let e=Array(3*a);for(let i=0;i<e.length;i+=3)e[i]=f.MathUtils.randFloatSpread(t),e[i+1]=f.MathUtils.randFloatSpread(o),e[i+2]=f.MathUtils.randFloatSpread(n);return Float32Array.from(e)},[a,s,t,o,n]),d=(0,m.useMemo)(()=>Float32Array.from(Array.from({length:3*a},()=>100*Math.random())),[a]),h=(0,m.useMemo)(()=>Float32Array.from(Array.from({length:a},()=>Math.random()*l)),[a,l]),g=(0,m.useMemo)(()=>Float32Array.from(Array.from({length:a},()=>.2*Math.random())),[a]),x=(0,m.useMemo)(()=>Float32Array.from(Array.from({length:a},()=>100*Math.random())),[a]),p=(0,m.useRef)(),v=(0,m.useRef)(),y=(0,m.useMemo)(()=>({uTime:{value:0},uColor:{value:new f.Color("rgb(255, 207, 206)")},uScroll:{value:0},uResolution:{value:new f.Vector2(t,o)}}),[]);return(0,m.useEffect)(()=>{y.uResolution.value.set(t,o)},[t,o]),(0,r.C)(e=>{let{clock:t}=e;y.uTime.value=t.elapsedTime}),(0,u.v)(e=>{let{scroll:t}=e;y.uScroll.value=t}),(0,i.jsxs)("points",{ref:v,children:[(0,i.jsxs)("bufferGeometry",{children:[(0,i.jsx)("bufferAttribute",{attach:"attributes-position",args:[c,3]}),(0,i.jsx)("bufferAttribute",{attach:"attributes-noise",args:[d,3]}),(0,i.jsx)("bufferAttribute",{attach:"attributes-size",args:[h,1]}),(0,i.jsx)("bufferAttribute",{attach:"attributes-speed",args:[g,1]}),(0,i.jsx)("bufferAttribute",{attach:"attributes-scale",args:[x,1]})]}),(0,i.jsx)("shaderMaterial",{ref:p,vertexShader:"#define GLSLIFY 1\n// Simplex 2D noise\n//\nvec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }\n\nfloat snoise(vec2 v){\n  const vec4 C = vec4(0.211324865405187, 0.366025403784439,\n           -0.577350269189626, 0.024390243902439);\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n  i = mod(i, 289.0);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n  + i.x + vec3(0.0, i1.x, 1.0 ));\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),\n    dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nattribute float size;\nattribute float speed;\nattribute vec3 noise;\nattribute float scale;\n\nuniform float uTime;\nuniform float uScroll;\nuniform vec2 uResolution;\n\nvoid main() {\n  vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n  modelPosition.x += snoise(vec2(noise.x, uTime * speed)) * scale;\n  modelPosition.y += snoise(vec2(noise.y, uTime * speed)) * scale;\n  modelPosition.z += snoise(vec2(noise.z, uTime * speed)) * scale;\n\n  float depth = (1.0 / - (viewMatrix * modelPosition).z);\n\n  modelPosition.y += uScroll * depth * 100.;\n  modelPosition.y = mod(modelPosition.y, uResolution.y) - uResolution.y/2.;\n\n  vec4 viewPosition = viewMatrix * modelPosition;\n  vec4 projectionPostion = projectionMatrix * viewPosition;\n\n  gl_Position = projectionPostion;\n  gl_PointSize = size * 100.;\n  gl_PointSize *= (1.0 / - viewPosition.z);\n}",fragmentShader:"#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\n\nvoid main() {\n  float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n  float strength = 0.05 / distanceToCenter - 0.1;\n\n  gl_FragColor = vec4(uColor,strength);\n}",transparent:!0,uniforms:y})]})}let g=[{position:[-.1,-1.75,0],scale:.045,rotation:[0,.5*Math.PI,0],type:1},{position:[.15,-.4,0],scale:.02,rotation:[f.MathUtils.degToRad(-45),f.MathUtils.degToRad(-135),f.MathUtils.degToRad(-45)],type:1},{position:[.15,-.4,0],scale:.02,rotation:[f.MathUtils.degToRad(45),f.MathUtils.degToRad(-315),f.MathUtils.degToRad(-45)],type:1},{position:[-.2,-.35,0],scale:.02,rotation:[f.MathUtils.degToRad(-90),f.MathUtils.degToRad(-405),f.MathUtils.degToRad(-45)],type:1},{position:[-1.2,-.6,0],scale:.05,rotation:[f.MathUtils.degToRad(-90),f.MathUtils.degToRad(-405),f.MathUtils.degToRad(-45)],type:1},{position:[-1.6,-.6,0],scale:.05,rotation:[f.MathUtils.degToRad(-90),f.MathUtils.degToRad(-405),f.MathUtils.degToRad(-45)],type:1},{position:[.16,-1.38,0],scale:.05,rotation:[f.MathUtils.degToRad(0),f.MathUtils.degToRad(200),f.MathUtils.degToRad(-16)],type:2},{position:[0,-.68,0],scale:.04,rotation:[f.MathUtils.degToRad(0),f.MathUtils.degToRad(-14),f.MathUtils.degToRad(-16)],type:2},{position:[-.22,-.61,0],scale:.03,rotation:[f.MathUtils.degToRad(0),f.MathUtils.degToRad(-517),f.MathUtils.degToRad(-16)],type:2},{position:[.2,-.46,0],scale:.03,rotation:[f.MathUtils.degToRad(0),f.MathUtils.degToRad(-700),f.MathUtils.degToRad(-16)],type:2}],x=new f.MeshPhysicalMaterial({color:new f.Color("#eb5e28"),metalness:1,roughness:.4,wireframe:!0,side:f.DoubleSide});function Arm(){let{scene:e}=(0,n.L)("/models/arm.glb"),{scene:t}=(0,n.L)("/models/arm2.glb"),[o,s]=(0,m.useState)(1),[{color:l,roughness:p,metalness:v,wireframe:y},b]=(0,c.useControls)(()=>({color:"#b0b0b0",roughness:{min:0,value:.4,max:1},metalness:{min:0,value:1,max:1},wireframe:!1}),[]),[{lightsColor:M,light1:R,light2:T,light1Intensity:C,light2Intensity:j,ambientColor:w},U]=(0,c.useControls)("lights",()=>({light1:{step:1,value:[-200,150,50]},light2:{step:1,value:[300,-100,150]},light1Intensity:{min:0,value:1,max:1},light2Intensity:{min:0,value:1,max:1},lightsColor:"#eb5e28",ambientColor:"#0E0E0E"}),[]),[{custom:A,scale:P,position:S,rotation:z}]=(0,c.useControls)("model",()=>({custom:!1,scale:{min:0,value:.05,max:.06,step:.001},position:{value:[0,0,0]},rotation:{step:1,min:-360,value:[0,0,0],max:360}}));(0,c.useControls)("model",()=>({export:(0,c.button)(()=>{alert(JSON.stringify({scale:P.toFixed(3),position:S,rotation:z,type:o}))})}),[P,S,z,o]),(0,m.useEffect)(()=>{x.color=new f.Color(l),x.roughness=p,x.metalness=v,x.wireframe=y},[l,p,v,y,x]),(0,m.useEffect)(()=>{e&&e.traverse(e=>{e.material&&(e.material=x)})},[e,x]),(0,m.useEffect)(()=>{t&&t.traverse(e=>{e.material&&(e.material=x)})},[t,x]);let F=(0,m.useRef)(),{viewport:I}=(0,r.A)(),L=(0,h.o)(e=>{let{thresholds:t}=e;return t}),E=(0,m.useMemo)(()=>Object.values(L).sort((e,t)=>e-t),[L]),[K,_]=(0,m.useState)(0);return(0,m.useEffect)(()=>{0===K?(U({light1Intensity:.35,light2Intensity:.15,lightsColor:"#eb5e28",ambientColor:"#eb5e28"}),b({color:"#b0b0b0",roughness:.4,metalness:1})):(U({light1Intensity:1,light2Intensity:1,lightsColor:"#efefef",ambientColor:"#b0B0B0"}),b({color:"#efefef",roughness:.4,metalness:.6}))},[K]),(0,u.v)(e=>{let{scroll:t}=e;_(t<L["light-start"]?0:1)},[L]),(0,u.v)(e=>{let{scroll:t}=e;if(!F.current)return;if(A){F.current.scale.setScalar(I.height*P),F.current.position.set(I.width*S[0],I.height*S[1],0),F.current.rotation.fromArray(z.map(e=>f.MathUtils.degToRad(e)));return}let o=E.findIndex(e=>t<e)-1,i=E[o],n=E[o+1],a=(0,d.KK)(i,n,t,0,1),r=g[o],l=g[o+1];if(F.current&&(F.current.visible=(null==r?void 0:r.type)===(null==l?void 0:l.type)),!l)return;let u=(0,d.KK)(0,1,a,r.scale,l.scale),c=new f.Vector3(I.width*(0,d.KK)(0,1,a,r.position[0],l.position[0]),I.height*(0,d.KK)(0,1,a,r.position[1],l.position[1]),0),h=new f.Euler().fromArray([,,,].fill(0).map((e,t)=>(0,d.KK)(0,1,a,r.rotation[t],l.rotation[t])));F.current.scale.setScalar(I.height*u),F.current.position.copy(c),F.current.rotation.copy(h),s(l.type)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ambientLight",{args:[new f.Color(w)]}),(0,i.jsx)("group",{position:R,children:(0,i.jsx)("directionalLight",{args:[new f.Color(M),C]})}),(0,i.jsx)("group",{position:T,children:(0,i.jsx)("directionalLight",{args:[new f.Color(M),j]})}),(0,i.jsx)(a.b,{floatIntensity:A?0:1,rotationIntensity:A?0:1,children:(0,i.jsxs)("group",{ref:F,children:[1===o&&(0,i.jsx)("primitive",{object:e,scale:[1,1,1]}),2===o&&(0,i.jsx)("primitive",{object:t,scale:[1,1,1]})]})})]})}function Content(){let{viewport:e}=(0,r.A)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Particles,{width:e.width,height:e.height,depth:500,count:100,scale:500,size:150}),(0,i.jsx)(Arm,{})]})}function WebGL(e){let{render:t=!0}=e;return(0,i.jsxs)(s.Xz,{gl:{powerPreference:"high-performance",antialias:!0,alpha:!0},dpr:[1,2],frameloop:"never",orthographic:!0,camera:{near:.01,far:1e4,position:[0,0,1e3]},children:[(0,i.jsx)(Raf,{render:t}),(0,i.jsx)(m.Suspense,{children:(0,i.jsx)(Content,{})})]})}}}]);